#!/bin/bash


# Turbulence models.
cd src/TurbulenceModels
./Allwmake
cd ../../



# Custom boundary conditions.
cd src/boundaryConditions
wmake
cd ../../


# Standard actuator turbine models.
#cd src/turbineModels/turbineModelsStandard
#wmake
#cd ../../../


# OpenFAST-coupled actuator turbine models.
if [ -z ${OPENFAST_DIR+x} ]
then
    echo "OPENFAST_DIR is not set. Not compiling OpenFAST interface."
else
    if [ -d ${OPENFAST_DIR} ] 
    then
	echo "OPENFAST_DIR is set to '${OPENFAST_DIR}'. Attempting to compile OpenFAST interface."
	cd src/turbineModels/turbineModelsOpenFAST
	wmake
	cd ../../../
    else
	echo "OPENFAST_DIR is set to '${OPENFAST_DIR}'. Directory doesn't exist or I can't access it. Skipping compilation of OpenFAST interface."
    fi	
fi

# Custom mesh Tools
cd src/meshTools
wmake
cd ../../


# ABL forcing objects
cd src/ABLForcing
wmake
cd ../../


# Custom sampling (this includes sampling on an annulus).
cd src/sampling
wmake
cd ../../


# Custom file formats (like structured VTK).
cd src/fileFormats
wmake
cd ../../


# Custom function objects (this includes planar and temporal averaging).
cd src/functionObjects/field
wmake
cd ../../../


# Custom function objects (this includes the lidar sampling).
cd src/functionObjects/utilities
wmake
cd ../../../


# Utility to set the initial fields for the ABL solver.
cd applications/utilities/setFieldsABL
wmake
cd ../../../


# The atmospheric LES solver for precursors.
cd applications/solvers/superDeliciousVanilla
wmake
cd ../../../
